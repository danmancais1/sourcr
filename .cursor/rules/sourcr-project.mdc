---
description: Sourcr project non-negotiables and engineering standards (UK property sourcing + quiet-sale marketplace)
alwaysApply: true
---

# Sourcr â€“ Project Rules

## Stack & architecture

- **Next.js App Router + TypeScript** for all app code.
- **Supabase**: Auth, Postgres, Row Level Security. Enforce **multi-tenant workspace isolation** in RLS and queries.
- **Stripe**: Subscriptions (Starter/Pro), webhooks, and customer portal. No placeholder flows.

## Integrations (real only)

- Companies House API
- EPC API
- The Gazette data feed
- Land Registry Price Paid Data import

**No scraping portals. No placeholders.** If an API or feed requires a key or config, add a **settings UI** to capture it and **validate** it (e.g. test call or schema check).

## Language & theme

- **UK English** everywhere (copy, comments, docs, variable names where it reads naturally).
- **Theme colours** (use consistently in CSS/Tailwind/design tokens):
  - `#363020`
  - `#605C4E`
  - `#A49966`
  - `#C7C7A6`
  - `#EAFFDA`

## Outreach & compliance

Outreach must be **compliance-first**:

- **Assisted sending by default** (e.g. review/approve before send, not fully automated bulk send).
- **Suppression list**: honour unsubscribes and do-not-contact.
- **Audit logs**: who sent what, when, to whom.
- **Opt-out handling**: clear mechanism and storage.
- **Daily limits**: enforce caps per workspace/user.

## Engineering standards

- **README**: include setup and deploy steps.
- **`.env.example`**: document every required env var (no secrets, just names and description).
- **Secrets**: use server actions or API routes; keep secrets server-side only.
- **Errors**: log with **clear, actionable messages** (e.g. include context like `userId`, `workspaceId`, or operation name).
